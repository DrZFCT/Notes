\chapter{Abstract Measure Theory}


\section{}
In this section, we are working on a set $E$.

\begin{definition}[$\sigma$-algebra]
    
\end{definition}
\begin{remark}
    Greek letters $\sigma$ and $\delta$ are often used when countable unions and countable intersections are involved. 
    For example, topologists call $F_\sigma$ every countable union of closed sets in a topological space ($F$ standing possibly for the French word ferm√©, closed) and $G_\delta$
 every countable intersection of open sets ($G$ standing for the German word Gebiet, domain, connected open set). 
 The letters $\sigma$
 and $\delta$
 are often given as Greek abbreviations of German words: $\sigma$
 as S in Summe for sum (in the sense of sum of sets, that is, union) and $\delta$
 as D in Durchschnitt for intersection, both countable. 
 Thus, in the context of measure theory, the letter $\sigma$ refers to the stability of a collection of subsets by countable union.
\end{remark}

\begin{definition}[generator of $\sigma$-algebra]
    \[\sigma(\cA)=\{A\subset E:A\in\cE \quad \forall \cE \supset \}\]
\end{definition}

\begin{example}
    Borel $\sigma$-algebra
\end{example}

\begin{definition}[$\pi$-system]
    $\cA$ is a collection of subsets of $E$. Then $\cA$ is called a $\pi$-system if 
    \begin{enumerate}
        \item $\emptyset\in\cA$;
        \item $A,B\in\cA$, then $A\cap B\in\cA$.
    \end{enumerate}
\end{definition}

\begin{definition}[$d$-system]
    $\cA$ is a collection of subsets 
    \begin{enumerate}
        \item $E\in\cA$;
        \item $A,B\in\cA$, $A\subset B$, then $B\setminus A \in\cA$;
        \item If $A_n\subset \cA$ such that $A_n\subset A_{n+1}$, then $\cup_{n}A_n\in\cA$.
    \end{enumerate}
\end{definition}
\begin{remark}
    $d$-system is also referred as $\lambda$-system.
\end{remark}

\begin{proposition}\label{prop:sigma dpi}
    $\cA$ is a $\sigma$-algebra if and only if it is a $\pi$-system and a $d$-system.
\end{proposition}
\begin{proof}
    A $\sigma$-algebra is a $\pi$ system because

    Conversely, 
\end{proof}

\begin{lemma}[Dynkin's $\pi$-system lemma]
    Let $\cA$ be a $\pi$-system. Then any $d$-system that contains $\cA$ also contains $\sigma(\cA)$.
\end{lemma}
This lemma can reduce the problem of studying a $\sigma$-algebra to the study of a $\pi$-system.
\begin{proof}
    Let $\cD$ be the intersection of all $d$-system containing $\cA$.
    We now prove that $\cD$ is a $\sigma$-algebra. 
    As $\cD$ is already a $d$-system, by Proposition \ref{prop:sigma dpi}, we only need to prove that $\cD$ is a $\pi$-system.

    (i) First we show the following property for $\cD$: If $B\in\cD$ and $A\in\cA$, then $B\cap A\subset\cD$.
    Let $$\cD'=\{B\in\cD:B\cap A\in \cD\quad \forall A\in\cA\}.$$ 
    To show that $\cD'=\cD$, we only need to check that $\cD'$ is a $d$-system containing $\cA$.
    As $\cA$ is a $\pi$-system, $D'\supset \cA$. 
    Now, we can check
    \begin{itemize}
        \item $E\in\cD'$; this is because $\cA\subset\cD$.
        \item $B_1,B_2\in\cD'$, $B_1\subset B_2$, then $B_2\setminus B_1 \in\cD'$; this is because for any $A\in\cA$, $(B_2\setminus B_1)\cap A = (B_2\cap A)\setminus (B_1\cap A ) \in\cD$.
        \item If $B_n\subset \cD'$ such that $B_n\subset B_{n+1}$, then $\cup_{n}B_n\in\cD'$; this is because for any $A\in\cA$, $(\cup_{n}B_n)\cap A=\cup_n (B_n\cap A)\in\cD$.
    \end{itemize}

    (ii) If $A,B\in\cD$, then $B\cap A\in\cD$.
    Let $$\cD''=\{B\in\cD:B\cap A\in \cD\quad \forall A\in\cD\}.$$ One can see that $\cD''$ is a $d$-system by noting that the argument holds for any $\cA\subset\cD$.
    The fact that $\cD''$ contains $\cA$ follows from property (i). Therefore, $\cD''=\cD$ and $\cD$ is a $\pi$-system.
\end{proof}


\section{Caratheodory Extension Theorem}


\begin{definition}[set function]
    $\cA$ be a collection of subsets of $E$ with $\emptyset\in\cA$.
    A set function $\mu:\cA\to [0,\infty]$ is a function such that $\mu(\emptyset)=0$.
\end{definition}

\begin{definition}[increasing set function]
    $A\subset B$, we have $\mu(A)\leq \mu(B)$.
\end{definition}

\begin{definition}[Additive Set Function]
    A set function is additve if whenever $A,B\in\cA$ and $A\cup B\in\cA,A\cap B=\emptyset$, then $\mu(A\cup B)=\mu(A)+\mu(B)$.
\end{definition}

\begin{definition}[Countably Additive Set Function]
    A set function is countably additive if whenever $(A_n)\subset\cA$ such that $A_n\cap A_m=\emptyset$ for all $n\neq m$ and $\cup_{n\in\NN}A_n\in\cA$, then $\mu(\cup_{n\in\NN}A_n)=\sum_{n\in\NN}\mu(A_n)$.
\end{definition}

\begin{definition}[Countably subadditive Set Function]
    A set function is countably subadditive if whenever $(A_n)\subset\cA$ and $\cup_{n\in\NN}A_n\in\cA$, then $\mu(\cup_{n\in\NN}A_n)\leq\sum_{n\in\NN}\mu(A_n)$.
\end{definition}

\begin{definition}[ring]
    A collection of subsets $\cA$ of a subset $E$ is a ring if 
    \begin{enumerate}
        \item $\emptyset\in \cA$ 
        \item $\forall A,B\in\cA$, we have $B\setminus A\in\cA$ and $A\cup B\in\cA$.
    \end{enumerate}
\end{definition}

\begin{definition}[algebra]
    A collection of subsets $\cA$ of a subset $E$ is an algebra if 
    \begin{enumerate}
        \item $\emptyset\in \cA$ 
        \item $\forall A,B\in\cA$, we have $A^c \in\cA$ and $A\cup B\in\cA$.
    \end{enumerate}
\end{definition}

\begin{theorem}[Caratheodory Extension Theorem]
    Let $\cA$ be a ring on $E$, and $\mu$ be a countably additive set function on $\cA$.
    Then $\mu$ extends to a measure on $\sigma(\cA)$.
\end{theorem}

\begin{theorem}
    Suppose that $\mu_1,\mu_2$ are measures on $(E,\cE)$ with $\mu_1(E)=\mu_2(E)<\infty$.
    If $\cA$ is a $\pi$-system with $\sigma(\cA)=\cE$ and $\mu_1|_\cA=\mu_2|_\cA$, then $\mu_1=\mu_2$.
\end{theorem}
\begin{proof}
    Let $\cD=\{A\in\cE:\mu_1(A)=\mu_2(A)\}$, then $\cD\supset\cA$.
    By Dynkin's lemma, it suffices to show that $\cD$ is a $d$-system.
    We can check 
    \begin{itemize}
        \item $E\in\cD$.
        \item Let $A,B\in\cD$ with $A\subset B$. (Note that finiteness is important here.)
        \item 
    \end{itemize}
\end{proof}

\begin{example}
    Let $E=\ZZ$, $\cE=$. let $\cA=\{\{x,x+2,x+2,\dots\}:x\in E\}\cup\{\emptyset\}$. 
    $\cA$ is a $\pi$-system such that $\cE=\sigma(\cA)$. Let $\mu_1(A)$ be the number of elements of $A$ and $\mu_2=2\mu_1$.
\end{example}

\begin{definition}[Borel $\sigma$-algebra]
    Let $E$ be a topological space. 
    $\cB(E)=\sigma(\{U\subset E:U\text{ open}\})$.
\end{definition}

\begin{definition}[borel and Radon Measure]
    A measure $\mu$ on $(E,\cB(E))$ is called a Borel measure. 
    If $\mu(K)<\infty$ for all $K\subset E$ compact, then $\mu$ is called a Radon measure.
\end{definition}

\section{Lebesgue Measure}

\begin{theorem}
    There exists a unique Borel measure $\mu$ on $\cB(\RR)$ with $\mu([a,b])=b-a$.
\end{theorem}
\begin{remark}
    This measure is called the Lebesgue measure.
\end{remark}
\begin{proof}
    \textbf{Uniqueness.} Suppose $\tilde{\mu}$ is another measure. For any $n\in\ZZ$, we set $\mu_n(A)=\mu(A\cap (n+1,n])$.
    The previous theorem imples that $\mu_n=\tilde{\mu}_n$ for all $n\in\ZZ$. Firx $A\in\cB(\RR)$, $A=\cup_{n\in\ZZ}(A\cap (n,n+1])$,
    $\mu(A)=\sum_{n\in\ZZ}\mu_n(A)=\sum_{n\in\ZZ}\tilde{\mu}_n(A)=\tilde{\mu}(A)$.

    \textbf{Existence.} $\cA$ be the collection of finite, disjoint unions of the following form $A=\cup_{n\in\ZZ}(a_i,b_i]$.
    $\cA$ is a ring on $\RR$ and $\sigma(\cA)=\cB(\RR)$. Define $\mu(A)=\sum_{i=1}^{n}(b_i-a_i)$. It is well defined and additive.
    Suppose $A=\cup_{n=1}^\infty A_n\in\cA$, $\mu(A)=\sum_{i=1}^{n}\mu(A_i)+\mu(A\setminus\sum_{j=1}^{n}A_j)$. Let $B_n=A\setminus\sum_{j=1}^{n}A_j$.

    Argue by contradiction,$\exists\epsilon>0,n_0\in\NN$ such that $\mu(B_n)\geq 2\epsilon$ $\forall n\geq n_0$.
    $\forall n\in\NN$, $\exists C_n\in\cA$ such that $\overline{C_n}\subset B_n$ and $\mu(B_n\setminus C_n)\leq \frac{\epsilon}{2^n}$.
    Then we have $\mu(B_n)-\mu (\cap_{m=1}^n \overline{C_m})=\mu(B_n\setminus \cap_{m=1}^n C_m)\leq \mu(\cup_{m=1}^n (B_m\setminus C_m))\leq \sum_{m=1}^{n}\mu(B_m\setminus C_m)\leq \epsilon$.
    The finite intersection property
\end{proof}
\begin{lemma}[Finite intersection property of compact sets of $\RR$]
    If 
\end{lemma}

\begin{definition}[$\sigma$-finite measure]
    Let $(E,\cE)$ be a measurable space, and $\mu$ a measure on $\cE$.
    We say that $\mu$ is $\sigma$-finite if $E=\cup_{n\in\NN}E_n,E_n\in\cE,\mu(E_n)<\infty\forall n$.
\end{definition}

It is easy to see that Lebesgue measure is translation invariant using the above theorem.
Just take

\begin{theorem}
    Let $\tilde{\mu}$ be a Borel measure on $\RR$ that is translation invariant and $\tilde{\mu}([0,1])=1$.
    Then $\tilde{\mu}$ is the Lebesgue measure.
\end{theorem}
\begin{proof}
    First show no singleton.
    $\tilde{\mu}(\{a\})\leq \tilde{\mu}([a,a+\frac{1}{n}))=\tilde{\mu}([0,\frac{1}{n}))\leq\frac{1}{n}$.

    Can find $p_n,q_n\in\QQ$ such that $p_n\downarrow a$, $q_n\uparrow b$ as $n\to\infty$.
\end{proof}

\section{Probability Measure}

\begin{definition}
    Let $(E,\cE)$ be a measure space with the property $\mu(E)=1$.
    Then $\mu$ is called a probability measure and $(E,\cE,\mu)$ a probability space.
\end{definition}

\section{Radon Measure}

Every Borel measure on $\RR^n$ is regular and locally finite, which is Radon.